# Инструкция по тестированию админки блога

## Предварительные требования
1. Backend Laravel должен быть запущен на `http://localhost:8000`
2. Frontend Next.js должен быть запущен на `http://localhost:3000`
3. Вы должны быть авторизованы в админке

## Тестовые сценарии

### 1. Создание новой статьи
1. Откройте `http://localhost:3000/admin/blog`
2. Нажмите кнопку **"Создать статью"**
3. Заполните форму:
   - Заголовок: "Тестовая статья"
   - Должность: "Автор"
   - Описание: "Это тестовое описание статьи"
   - Порядковый номер: 0
   - Изображение: загрузите любое изображение (до 2 МБ)
4. Нажмите **"Создать статью"**
5. ✅ Должно появиться уведомление "Статья успешно создана"
6. ✅ Новая статья должна появиться в списке

### 2. Редактирование статьи
1. В списке статей найдите созданную статью
2. Нажмите на иконку карандаша (редактировать)
3. Измените заголовок на "Обновленная статья"
4. Нажмите **"Обновить статью"**
5. ✅ Должно появиться уведомление "Статья успешно обновлена"
6. ✅ Изменения должны отобразиться в списке

### 3. Изменение порядка сортировки
1. В списке статей найдите колонку "Порядок"
2. Кликните на число
3. Введите новое значение (например, 5)
4. Нажмите галочку или Enter
5. ✅ Должно появиться уведомление "Порядок поста обновлен"
6. ✅ Страница обновится с новым порядком

### 4. Изменение статуса статьи
1. В списке статей найдите переключатель статуса
2. Переключите его
3. ✅ Должно появиться уведомление "Статья активирована" или "Статья деактивирована"

### 5. Создание блока внутри статьи
1. Кликните на любую статью в списке (на строку, не на иконки)
2. Откроется страница управления блоками статьи
3. Нажмите **"Добавить блок"**
4. Заполните форму:
   - Заголовок блока: "Первый блок"
   - Первый параграф: "Это содержимое первого параграфа"
   - Второй параграф (необязательно): "Дополнительный текст"
5. Нажмите **"Создать блок"**
6. ✅ Должно появиться уведомление "Блок успешно добавлен"
7. ✅ Новый блок должен появиться на странице

### 6. Редактирование блока
1. На странице блоков найдите созданный блок
2. Нажмите на иконку карандаша
3. Измените заголовок на "Обновленный блок"
4. Нажмите **"Обновить блок"**
5. ✅ Должно появиться уведомление "Блок успешно обновлён"
6. ✅ Изменения должны отобразиться

### 7. Удаление блока
1. На странице блоков найдите блок
2. Нажмите на иконку корзины
3. Подтвердите удаление
4. ✅ Должно появиться уведомление "Блок успешно удалён"
5. ✅ Блок должен исчезнуть из списка

### 8. Удаление статьи
1. Вернитесь к списку статей (`http://localhost:3000/admin/blog`)
2. Найдите тестовую статью
3. Нажмите на иконку корзины
4. Подтвердите удаление
5. ✅ Должно появиться уведомление "Статья успешно удалена"
6. ✅ Статья должна исчезнуть из списка

## Проверка консоли браузера
Откройте DevTools (F12) и проверьте:
- ✅ Нет ошибок в консоли
- ✅ Все API запросы возвращают статус 200 или 201
- ✅ В заголовках запросов присутствует `Authorization: Bearer <token>`

## Возможные проблемы

### Ошибка 401 (Unauthorized)
**Причина:** Токен авторизации отсутствует или истек
**Решение:** 
1. Выйдите из админки
2. Войдите заново через `/admin/login`

### Ошибка 422 (Validation Error)
**Причина:** Неверные данные в форме
**Решение:** Проверьте, что все обязательные поля заполнены корректно

### Ошибка 500 (Server Error)
**Причина:** Проблема на стороне backend
**Решение:** 
1. Проверьте, что Laravel сервер запущен
2. Проверьте логи Laravel: `backend_laravel/storage/logs/laravel.log`

## Успешное тестирование
Если все 8 сценариев прошли успешно, исправление работает корректно! ✅
