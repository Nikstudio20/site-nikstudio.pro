# Requirements Document

## Introduction

Эта функция исправляет проблемы с подключением SEO-настроек из базы данных для страниц сайта. В настоящее время некоторые страницы используют глобальные SEO-настройки вместо специфичных настроек страниц из базы данных, а также происходит обрезание текста с добавлением "…" в конце. Необходимо обеспечить корректное использование SEO-настроек из базы данных для каждой страницы и вывод полного текста без сокращений.

## Requirements

### Requirement 1

**User Story:** Как владелец сайта, я хочу, чтобы главная страница использовала SEO-настройки из базы данных (title, description, keywords), а не глобальные настройки, чтобы иметь полный контроль над SEO главной страницы.

#### Acceptance Criteria

1. WHEN пользователь посещает главную страницу THEN система SHALL использовать seo_title из настроек страницы 'home' в базе данных
2. WHEN пользователь посещает главную страницу THEN система SHALL использовать seo_description из настроек страницы 'home' в базе данных
3. WHEN пользователь посещает главную страницу THEN система SHALL использовать seo_keywords из настроек страницы 'home' в базе данных
4. IF настройки страницы 'home' отсутствуют в базе данных THEN система SHALL использовать глобальные настройки как fallback
5. WHEN SEO-настройки главной страницы обновляются в админке THEN изменения SHALL отображаться на главной странице после revalidation

### Requirement 2

**User Story:** Как владелец сайта, я хочу, чтобы страница списка проектов использовала keywords из базы данных, а не глобальные keywords, чтобы оптимизировать SEO для этой страницы.

#### Acceptance Criteria

1. WHEN пользователь посещает страницу списка проектов THEN система SHALL использовать seo_keywords из настроек страницы 'projects_list' в базе данных
2. IF настройки страницы 'projects_list' отсутствуют THEN система SHALL использовать глобальные keywords как fallback
3. WHEN SEO-настройки страницы проектов обновляются в админке THEN изменения SHALL отображаться на странице после revalidation

### Requirement 3

**User Story:** Как владелец сайта, я хочу, чтобы страница списка блога использовала keywords из базы данных, а не глобальные keywords, чтобы оптимизировать SEO для этой страницы.

#### Acceptance Criteria

1. WHEN пользователь посещает страницу списка блога THEN система SHALL использовать seo_keywords из настроек страницы 'blog_list' в базе данных
2. IF настройки страницы 'blog_list' отсутствуют THEN система SHALL использовать глобальные keywords как fallback
3. WHEN SEO-настройки страницы блога обновляются в админке THEN изменения SHALL отображаться на странице после revalidation

### Requirement 4

**User Story:** Как владелец сайта, я хочу, чтобы страница медиа использовала SEO-настройки из базы данных (title, description, keywords), а не глобальные настройки, чтобы иметь полный контроль над SEO страницы медиа.

#### Acceptance Criteria

1. WHEN пользователь посещает страницу медиа THEN система SHALL использовать seo_title из настроек страницы 'media' в базе данных
2. WHEN пользователь посещает страницу медиа THEN система SHALL использовать seo_description из настроек страницы 'media' в базе данных
3. WHEN пользователь посещает страницу медиа THEN система SHALL использовать seo_keywords из настроек страницы 'media' в базе данных
4. IF настройки страницы 'media' отсутствуют в базе данных THEN система SHALL использовать глобальные настройки как fallback
5. WHEN SEO-настройки страницы медиа обновляются в админке THEN изменения SHALL отображаться на странице после revalidation

### Requirement 5

**User Story:** Как владелец сайта, я хочу видеть полный текст SEO-настроек (title, description, keywords) без сокращений "…", чтобы весь контент отображался корректно в поисковых системах и социальных сетях.

#### Acceptance Criteria

1. WHEN система генерирует SEO title THEN она SHALL выводить полный текст без добавления "…" в конце
2. WHEN система генерирует SEO description THEN она SHALL выводить полный текст без добавления "…" в конце
3. WHEN система генерирует SEO keywords THEN она SHALL выводить полный список keywords без сокращений
4. WHEN текст title превышает рекомендуемую длину THEN система SHALL выводить полный текст без обрезания
5. WHEN текст description превышает рекомендуемую длину THEN система SHALL выводить полный текст без обрезания

### Requirement 6

**User Story:** Как разработчик, я хочу, чтобы система корректно обрабатывала keywords из базы данных, чтобы они правильно отображались в meta-тегах.

#### Acceptance Criteria

1. WHEN система получает seo_keywords из базы данных THEN она SHALL корректно преобразовывать их в массив строк
2. WHEN seo_keywords является массивом THEN система SHALL использовать его напрямую
3. WHEN seo_keywords является строкой THEN система SHALL разделить её на массив по запятым
4. WHEN seo_keywords отсутствует THEN система SHALL использовать fallback keywords
5. WHEN keywords генерируются THEN они SHALL включаться в meta-теги страницы

### Requirement 7

**User Story:** Как владелец сайта, я хочу, чтобы существующий функционал, дизайн и вёрстка не были нарушены после внесения изменений, чтобы сайт продолжал работать корректно.

#### Acceptance Criteria

1. WHEN изменения применяются THEN все существующие страницы SHALL продолжать работать без ошибок
2. WHEN изменения применяются THEN дизайн и вёрстка страниц SHALL оставаться неизменными
3. WHEN изменения применяются THEN производительность страниц SHALL не ухудшаться
4. WHEN изменения применяются THEN кеширование SEO-данных SHALL продолжать работать корректно
5. WHEN изменения применяются THEN fallback на глобальные настройки SHALL работать при отсутствии настроек страницы
