# Быстрая инструкция по тестированию

## Проблема решена! ✅

Ошибка "Auth guard [sanctum] is not defined" исправлена.

## Как протестировать

### Шаг 1: Войти в админку
1. Откройте браузер
2. Перейдите на `http://localhost:3000/admin/login`
3. Введите данные:
   - **Логин**: `admin`
   - **Пароль**: `MLCdJIqUJyvFwV1`
4. Нажмите "Войти в систему"

### Шаг 2: Открыть редактор главной страницы
1. После успешного входа перейдите на `http://localhost:3000/admin/homepage-editor`
2. Страница должна загрузиться с текущим контентом

### Шаг 3: Изменить текст
1. Перейдите на вкладку "Hero"
2. Измените текст в поле "Заголовок"
3. Нажмите "Сохранить изменения"

### Ожидаемый результат
✅ Должно появиться сообщение: **"Изменения успешно сохранены"**
✅ Сообщение исчезнет через 3 секунды
✅ Кнопка "Сохранить изменения" станет неактивной
✅ Предупреждение о несохраненных изменениях исчезнет

### Шаг 4: Проверить изменения на главной странице
1. Откройте новую вкладку
2. Перейдите на `http://localhost:3000`
3. Изменения должны отобразиться на главной странице

## Что было исправлено

1. ✅ Установлен Laravel Sanctum
2. ✅ Настроена аутентификация через API
3. ✅ Создан тестовый пользователь
4. ✅ Обновлена страница логина
5. ✅ Добавлена поддержка JWT токенов

## Учетные данные

**Логин**: `admin`  
**Пароль**: `MLCdJIqUJyvFwV1`

## Если что-то не работает

### Проверьте серверы:
```bash
# Backend должен работать на порту 8000
cd backend_laravel
php artisan serve

# Frontend должен работать на порту 3000
cd frontend_next
npm run dev
```

### Очистите кэш браузера:
1. Откройте DevTools (F12)
2. Application → Storage → Clear site data
3. Обновите страницу

### Проверьте логи:
```bash
# Laravel logs
cd backend_laravel
Get-Content storage/logs/laravel.log -Tail 50
```

## Автоматический тест

Запустите тест для проверки API:
```powershell
.\test-auth-fix.ps1
```

Все тесты должны пройти успешно ✅

---

**Статус**: ✅ Готово к использованию
